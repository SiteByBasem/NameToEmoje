<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word to Emoji Converter</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <style>
      body {
        background-color: #333;
        color: #fff;
        font-family: Arial, sans-serif;
        text-align: center;
        overflow: hidden; /* لإخفاء الإيموجي التي قد تخرج عن الشاشة */
        padding: 50px;
      }

      h1 {
        color: #fff;
      }

      #emoji-box {
        margin-top: 20px;
      }

      #emoji-input {
        width: 300px;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ccc;
        margin-right: 10px;
      }

      #emoji-button {
        padding: 10px 20px;
        border-radius: 5px;
        border: none;
        background-color: #007bff;
        color: white;
        cursor: pointer;
      }

      #emoji-button:hover {
        background-color: #0056b3;
      }

      #result {
        margin-top: 20px;
        font-size: 2rem;
        color: #ffcc00;
      }

      #copy-btn {
        margin-top: 10px;
        padding: 10px 20px;
        border-radius: 5px;
        border: none;
        background-color: #28a745;
        color: white;
        cursor: pointer;
      }

      #copy-btn:hover {
        background-color: #218838;
      }
    </style>
  </head>
  <body>

    <div class="container">
      <h1>Word to Emoji Converter</h1>

      <!-- Input and button -->
      <div id="emoji-box">
        <input type="text" id="emoji-input" placeholder="Enter emoji name..." />
        <button id="emoji-button">Convert</button>
      </div>

      <!-- Result section -->
      <div id="result"></div>
      <button id="copy-btn" style="display: none;">Copy to Clipboard</button>

      <!-- Emoji category selector -->
      <div class="mt-3">
        <label for="emoji-category">Choose a category:</label>
        <select id="emoji-category">
          <option value="emotions">Emotions</option>
          <option value="animals">Animals</option>
          <option value="foods">Foods</option>
        </select>
      </div>
    </div>

    <audio id="convert-sound">
      <source src="https://www.soundjay.com/button/button-3.mp3" type="audio/mpeg">
    </audio>

    <!-- D3.js library for background emoji animation -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
      const emojis = {
        emotions: {
          angry: '😠',
          happy: '😊',
          sad: '😢',
          love: '❤️',
          surprised: '😲',
          wink: '😉',
          laugh: '😂',
          cool: '😎',
        },
        animals: {
          dog: '🐶',
          cat: '🐱',
          rabbit: '🐰',
          fox: '🦊',
          lion: '🦁',
          monkey: '🐒',
          elephant: '🐘',
        },
        foods: {
          apple: '🍎',
          banana: '🍌',
          pizza: '🍕',
          burger: '🍔',
          icecream: '🍦',
          sushi: '🍣',
        }
      };

      // Function to convert word to emoji
      function convertToEmoji() {
        const input = document.getElementById('emoji-input').value.toLowerCase().trim();
        const category = document.getElementById('emoji-category').value;

        const result = emojis[category][input] || '🤷‍♂️';
        document.getElementById('result').textContent = result;
        document.getElementById('copy-btn').style.display = 'inline-block';

        // Play sound when conversion is done
        document.getElementById('convert-sound').play();
      }

      // Function to copy emoji to clipboard
      function copyToClipboard() {
        const resultText = document.getElementById('result').textContent;
        navigator.clipboard.writeText(resultText).then(() => {
          alert('Emoji copied to clipboard!');
        });
      }

      // Add event listeners
      document.getElementById('emoji-button').addEventListener('click', convertToEmoji);
      document.getElementById('copy-btn').addEventListener('click', copyToClipboard);

      // D3.js Emoji Background Animation
      const emojiList = ['🐶', '🐱', '🐰', '🦊', '🐻', '🦁', '🐼', '🐯', '🐸', '🐵'];
      const width = window.innerWidth;
      const height = window.innerHeight;

      const svg = d3.select('body')
        .append('svg')
        .attr('width', width)
        .attr('height', height)
        .style('position', 'absolute')
        .style('top', 0)
        .style('left', 0)
        .style('z-index', -1); // Ensure the emoji background is behind other elements

      const emojiGroup = svg.append('g');

      // Generate animated emojis
      for (let i = 0; i < 50; i++) {
        const emoji = emojiList[Math.floor(Math.random() * emojiList.length)];
        const x = Math.random() * (width - 50);
        const y = Math.random() * (height - 50);
        const emojiElement = emojiGroup.append('text')
          .text(emoji)
          .attr('x', x)
          .attr('y', y)
          .attr('font-size', Math.random() * 40 + 20)
          .attr('fill', '#fff')
          .attr('opacity', 0);

        emojiElement.transition()
          .duration(Math.random() * 3000 + 1000)
          .attr('opacity', 1);
      }

      // Animate the emojis to move slightly
      setInterval(() => {
        emojiGroup.selectAll('text')
          .attr('transform', 'translate(' + (Math.random() * 20 - 10) + ',' + (Math.random() * 20 - 10) + ')');
      }, 500);
    </script>

  </body>
</html>
